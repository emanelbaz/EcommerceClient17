@if (CartItems.length > 0) {
<div class="cart-container">
  <h2 class="cart-title">Shopping Cart</h2>

  <div class="shopping-cart">
    <p class="cart-price">Total Price</p>
  </div>

  <hr />
  @for (item of CartItems; track $index) {
  <div class="cart-items">
    <div class="item-image">
      <img
        src="https://material.angular.dev/assets/img/examples/shiba2.jpg"
        alt="Product Image"
      />
    </div>
    <div class="item-details">
      <h2>{{ item.product.description }}</h2>
      <h4>{{ item.product.name }}</h4>
      <h4>{{ item.product.price }} EGP</h4>
      <p>Size: {{ item.product.variants[0].size }}</p>
      <p>Color: {{ item.product.variants[0].color }}</p>
      <div class="item-actions">
        <div class="input-group" style="max-width: 160px">
          <button
            class="btn btn-outline-secondary"
            type="button"
            min="1"
            (click)="decreaseQty($index)"
          >
            -
          </button>
          <input
            type="number"
            class="form-control text-center"
            [(ngModel)]="item.quantity"
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="increaseQty($index)"
          >
            +
          </button>
        </div>
        <button class="btn btn-outline-danger" (click)="removeItem($index)">
          <i class="bi bi-trash"></i>
        </button>
      </div>
    </div>
    <div class="item-price">
      <h2>{{ item.product.price * item.quantity }} EGP</h2>
    </div>
  </div>
  }
  <div class="order-product">
    <p class="subtotal-price">
      Subtotal( {{ CartItems.length }}items): {{ subTotal }} EGP
    </p>
    <button class="btn btn-success" routerLink="/login">Order Now</button>
  </div>
</div>
}@else {
<div class="empty-cart-container">
  <h1 class="empty-cart-title">Your Shop cart is empty</h1>
  <a class="shop-product-link" routerLink="/shop">Shop today's Products</a>
  <input
    type="text"
    class="form-control input-login"
    placeholder="Sign in your account"
  />
</div>
}
